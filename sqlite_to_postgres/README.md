# Проектное задание: перенос данных

Запуск:

- Из корневой папки задания на спринт, коммандой:
```bash
python -m sqlite_to_postgres.load_data
```

Критерии готовности:

- [x] После применения скрипта все фильмы, персоны и жанры появляются в PostgreSQL.  
- [x] Все связи между записями сохранены. 
- [x] В коде используются `dataclass`.
- [x] Данные загружаются пачками по n записей.
- [x] Повторный запуск скрипта не создаёт дублирующиеся записи.
- [x] В коде есть обработка ошибок записи и чтения.
- [x] Для установки и закрытия соединений используются менеджеры контекста.
- [x] Соединения устанавливаются один раз в начале работы программы.

- [ ] Тестирование решения. Что должно быть в тесте:
    - [ ] Проверка целостности данных между каждой парой таблиц в SQLite и Postgres.
        - [ ] Достаточно проверять количество записей в каждой таблице.
    - [ ] Проверка содержимого записей внутри каждой таблицы.
        - [ ] Проверьте, что все записи из PostgreSQL присутствуют с такими же значениями полей, как и в SQLite.
    - [ ] Проверка таблиц genre, film_work, person, genre_film_work, person_film_work
    - [ ] Используйте assert при сравнении ожидаемых и существующих данных.
    - [ ] Залейте решение в папку tests/check_consistency вашего проекта.
    - [x] Добавлять тесты в Github Actions не требуется